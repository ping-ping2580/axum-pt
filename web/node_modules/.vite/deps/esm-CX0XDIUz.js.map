{"version":3,"file":"esm-CX0XDIUz.js","names":[],"sources":["../../.pnpm/@tanstack+store@0.7.1/node_modules/@tanstack/store/dist/esm/scheduler.js","../../.pnpm/@tanstack+store@0.7.1/node_modules/@tanstack/store/dist/esm/types.js","../../.pnpm/@tanstack+store@0.7.1/node_modules/@tanstack/store/dist/esm/store.js","../../.pnpm/@tanstack+store@0.7.1/node_modules/@tanstack/store/dist/esm/derived.js","../../.pnpm/@tanstack+react-store@0.7.1_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/@tanstack/react-store/dist/esm/index.js"],"sourcesContent":["import { Derived } from \"./derived.js\";\nconst __storeToDerived = /* @__PURE__ */ new WeakMap();\nconst __derivedToStore = /* @__PURE__ */ new WeakMap();\nconst __depsThatHaveWrittenThisTick = {\n  current: []\n};\nlet __isFlushing = false;\nlet __batchDepth = 0;\nconst __pendingUpdates = /* @__PURE__ */ new Set();\nconst __initialBatchValues = /* @__PURE__ */ new Map();\nfunction __flush_internals(relatedVals) {\n  const sorted = Array.from(relatedVals).sort((a, b) => {\n    if (a instanceof Derived && a.options.deps.includes(b)) return 1;\n    if (b instanceof Derived && b.options.deps.includes(a)) return -1;\n    return 0;\n  });\n  for (const derived of sorted) {\n    if (__depsThatHaveWrittenThisTick.current.includes(derived)) {\n      continue;\n    }\n    __depsThatHaveWrittenThisTick.current.push(derived);\n    derived.recompute();\n    const stores = __derivedToStore.get(derived);\n    if (stores) {\n      for (const store of stores) {\n        const relatedLinkedDerivedVals = __storeToDerived.get(store);\n        if (!relatedLinkedDerivedVals) continue;\n        __flush_internals(relatedLinkedDerivedVals);\n      }\n    }\n  }\n}\nfunction __notifyListeners(store) {\n  store.listeners.forEach(\n    (listener) => listener({\n      prevVal: store.prevState,\n      currentVal: store.state\n    })\n  );\n}\nfunction __notifyDerivedListeners(derived) {\n  derived.listeners.forEach(\n    (listener) => listener({\n      prevVal: derived.prevState,\n      currentVal: derived.state\n    })\n  );\n}\nfunction __flush(store) {\n  if (__batchDepth > 0 && !__initialBatchValues.has(store)) {\n    __initialBatchValues.set(store, store.prevState);\n  }\n  __pendingUpdates.add(store);\n  if (__batchDepth > 0) return;\n  if (__isFlushing) return;\n  try {\n    __isFlushing = true;\n    while (__pendingUpdates.size > 0) {\n      const stores = Array.from(__pendingUpdates);\n      __pendingUpdates.clear();\n      for (const store2 of stores) {\n        const prevState = __initialBatchValues.get(store2) ?? store2.prevState;\n        store2.prevState = prevState;\n        __notifyListeners(store2);\n      }\n      for (const store2 of stores) {\n        const derivedVals = __storeToDerived.get(store2);\n        if (!derivedVals) continue;\n        __depsThatHaveWrittenThisTick.current.push(store2);\n        __flush_internals(derivedVals);\n      }\n      for (const store2 of stores) {\n        const derivedVals = __storeToDerived.get(store2);\n        if (!derivedVals) continue;\n        for (const derived of derivedVals) {\n          __notifyDerivedListeners(derived);\n        }\n      }\n    }\n  } finally {\n    __isFlushing = false;\n    __depsThatHaveWrittenThisTick.current = [];\n    __initialBatchValues.clear();\n  }\n}\nfunction batch(fn) {\n  __batchDepth++;\n  try {\n    fn();\n  } finally {\n    __batchDepth--;\n    if (__batchDepth === 0) {\n      const pendingUpdateToFlush = Array.from(__pendingUpdates)[0];\n      if (pendingUpdateToFlush) {\n        __flush(pendingUpdateToFlush);\n      }\n    }\n  }\n}\nexport {\n  __depsThatHaveWrittenThisTick,\n  __derivedToStore,\n  __flush,\n  __storeToDerived,\n  batch\n};\n//# sourceMappingURL=scheduler.js.map\n","function isUpdaterFunction(updater) {\n  return typeof updater === \"function\";\n}\nexport {\n  isUpdaterFunction\n};\n//# sourceMappingURL=types.js.map\n","import { __flush } from \"./scheduler.js\";\nimport { isUpdaterFunction } from \"./types.js\";\nclass Store {\n  constructor(initialState, options) {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = (listener) => {\n      var _a, _b;\n      this.listeners.add(listener);\n      const unsub = (_b = (_a = this.options) == null ? void 0 : _a.onSubscribe) == null ? void 0 : _b.call(_a, listener, this);\n      return () => {\n        this.listeners.delete(listener);\n        unsub == null ? void 0 : unsub();\n      };\n    };\n    this.prevState = initialState;\n    this.state = initialState;\n    this.options = options;\n  }\n  setState(updater) {\n    var _a, _b, _c;\n    this.prevState = this.state;\n    if ((_a = this.options) == null ? void 0 : _a.updateFn) {\n      this.state = this.options.updateFn(this.prevState)(updater);\n    } else {\n      if (isUpdaterFunction(updater)) {\n        this.state = updater(this.prevState);\n      } else {\n        this.state = updater;\n      }\n    }\n    (_c = (_b = this.options) == null ? void 0 : _b.onUpdate) == null ? void 0 : _c.call(_b);\n    __flush(this);\n  }\n}\nexport {\n  Store\n};\n//# sourceMappingURL=store.js.map\n","import { Store } from \"./store.js\";\nimport { __storeToDerived, __derivedToStore } from \"./scheduler.js\";\nclass Derived {\n  constructor(options) {\n    this.listeners = /* @__PURE__ */ new Set();\n    this._subscriptions = [];\n    this.lastSeenDepValues = [];\n    this.getDepVals = () => {\n      const prevDepVals = [];\n      const currDepVals = [];\n      for (const dep of this.options.deps) {\n        prevDepVals.push(dep.prevState);\n        currDepVals.push(dep.state);\n      }\n      this.lastSeenDepValues = currDepVals;\n      return {\n        prevDepVals,\n        currDepVals,\n        prevVal: this.prevState ?? void 0\n      };\n    };\n    this.recompute = () => {\n      var _a, _b;\n      this.prevState = this.state;\n      const { prevDepVals, currDepVals, prevVal } = this.getDepVals();\n      this.state = this.options.fn({\n        prevDepVals,\n        currDepVals,\n        prevVal\n      });\n      (_b = (_a = this.options).onUpdate) == null ? void 0 : _b.call(_a);\n    };\n    this.checkIfRecalculationNeededDeeply = () => {\n      for (const dep of this.options.deps) {\n        if (dep instanceof Derived) {\n          dep.checkIfRecalculationNeededDeeply();\n        }\n      }\n      let shouldRecompute = false;\n      const lastSeenDepValues = this.lastSeenDepValues;\n      const { currDepVals } = this.getDepVals();\n      for (let i = 0; i < currDepVals.length; i++) {\n        if (currDepVals[i] !== lastSeenDepValues[i]) {\n          shouldRecompute = true;\n          break;\n        }\n      }\n      if (shouldRecompute) {\n        this.recompute();\n      }\n    };\n    this.mount = () => {\n      this.registerOnGraph();\n      this.checkIfRecalculationNeededDeeply();\n      return () => {\n        this.unregisterFromGraph();\n        for (const cleanup of this._subscriptions) {\n          cleanup();\n        }\n      };\n    };\n    this.subscribe = (listener) => {\n      var _a, _b;\n      this.listeners.add(listener);\n      const unsub = (_b = (_a = this.options).onSubscribe) == null ? void 0 : _b.call(_a, listener, this);\n      return () => {\n        this.listeners.delete(listener);\n        unsub == null ? void 0 : unsub();\n      };\n    };\n    this.options = options;\n    this.state = options.fn({\n      prevDepVals: void 0,\n      prevVal: void 0,\n      currDepVals: this.getDepVals().currDepVals\n    });\n  }\n  registerOnGraph(deps = this.options.deps) {\n    for (const dep of deps) {\n      if (dep instanceof Derived) {\n        dep.registerOnGraph();\n        this.registerOnGraph(dep.options.deps);\n      } else if (dep instanceof Store) {\n        let relatedLinkedDerivedVals = __storeToDerived.get(dep);\n        if (!relatedLinkedDerivedVals) {\n          relatedLinkedDerivedVals = /* @__PURE__ */ new Set();\n          __storeToDerived.set(dep, relatedLinkedDerivedVals);\n        }\n        relatedLinkedDerivedVals.add(this);\n        let relatedStores = __derivedToStore.get(this);\n        if (!relatedStores) {\n          relatedStores = /* @__PURE__ */ new Set();\n          __derivedToStore.set(this, relatedStores);\n        }\n        relatedStores.add(dep);\n      }\n    }\n  }\n  unregisterFromGraph(deps = this.options.deps) {\n    for (const dep of deps) {\n      if (dep instanceof Derived) {\n        this.unregisterFromGraph(dep.options.deps);\n      } else if (dep instanceof Store) {\n        const relatedLinkedDerivedVals = __storeToDerived.get(dep);\n        if (relatedLinkedDerivedVals) {\n          relatedLinkedDerivedVals.delete(this);\n        }\n        const relatedStores = __derivedToStore.get(this);\n        if (relatedStores) {\n          relatedStores.delete(dep);\n        }\n      }\n    }\n  }\n}\nexport {\n  Derived\n};\n//# sourceMappingURL=derived.js.map\n","import { useSyncExternalStoreWithSelector } from \"use-sync-external-store/shim/with-selector.js\";\nexport * from \"@tanstack/store\";\nfunction useStore(store, selector = (d) => d) {\n  const slice = useSyncExternalStoreWithSelector(\n    store.subscribe,\n    () => store.state,\n    () => store.state,\n    selector,\n    shallow\n  );\n  return slice;\n}\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size) return false;\n    for (const [k, v] of objA) {\n      if (!objB.has(k) || !Object.is(v, objB.get(k))) return false;\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size) return false;\n    for (const v of objA) {\n      if (!objB.has(v)) return false;\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nexport {\n  shallow,\n  useStore\n};\n//# sourceMappingURL=index.js.map\n"],"x_google_ignoreList":[0,1,2,3,4],"mappings":"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"}