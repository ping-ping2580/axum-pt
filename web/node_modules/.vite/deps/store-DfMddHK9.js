import { __toESM } from "./chunk-51aI8Tpl.js";
import { require_react } from "./react-DN4s_Om_.js";

//#region node_modules/.pnpm/@mantine+store@8.0.2_react@19.1.0/node_modules/@mantine/store/esm/store.mjs
var import_react = __toESM(require_react(), 1);
function createStore(initialState) {
	let state = initialState;
	let initialized = false;
	const listeners = /* @__PURE__ */ new Set();
	return {
		getState() {
			return state;
		},
		updateState(value) {
			state = typeof value === "function" ? value(state) : value;
		},
		setState(value) {
			this.updateState(value);
			listeners.forEach((listener) => listener(state));
		},
		initialize(value) {
			if (!initialized) {
				state = value;
				initialized = true;
			}
		},
		subscribe(callback) {
			listeners.add(callback);
			return () => listeners.delete(callback);
		}
	};
}
function useStore(store) {
	return (0, import_react.useSyncExternalStore)(store.subscribe, () => store.getState(), () => store.getState());
}

//#endregion
export { createStore, useStore as useStore$1 };
//# sourceMappingURL=store-DfMddHK9.js.map